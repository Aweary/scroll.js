var scrollJS=function(){var e=[],t=[],n={at:function(e,t){if("number"!=typeof e||0>e)throw new Error("Scroll position must be a number greater than 0")
if(this._tweenPositionDefined(e))throw new Error("Scroll position already defined for this element")
if(0===Object.keys(t).length)throw new Error("Scroll state must have at least one value")
var n={}
for(value in t)t.hasOwnProperty(value)&&(n[value]=t[value])
n.scrollPosition=e,this.tweenBreakpoints.push(n),this._updateTweens()},_sortCompareFunction:function(e,t){return e.scrollPosition<t.scrollPosition?-1:e.scrollPosition>t.scrollPosition?1:0},_updateTweens:function(){this.tweenBreakpoints=this.tweenBreakpoints.sort(this._sortCompareFunction)
for(var e=0;e<this.tweenBreakpoints.length;e++)this.tweenBreakpoints[e+1]&&this._calculateTweenIncrement(this.tweenBreakpoints[e],this.tweenBreakpoints[e+1])},_calculateTweenIncrement:function(e,t){var n=t.scrollPosition-e.scrollPosition
e.increment||(e.increment={})
for(var i in e)e.hasOwnProperty(i)&&"scrollPosition"!==i&&"increment"!==i&&void 0===t[i]&&(console.log(i),t[i]=e[i])
for(var r in t)t.hasOwnProperty(r)&&"increment"!==r&&(e.increment[r]=(t[r]-e[r])/n)},_getActiveTweenPair:function(){var e=window.pageYOffset
if(!(e<this.cache.activeTweenPairUpperBound&&e>this.cache.activeTweenPairLowerBound)){var t=this.tweenBreakpoints.map(function(e){return e.scrollPosition})
!this.initialTweenPairSet
for(var n=0;n<t.length;n++){if(console.log("iterating breakpoints",this),2===this.tweenBreakpoints.length)return this._activeTweenPair.length&&this._activeTweenPair.splice(0),this._activeTweenPair.push(this.tweenBreakpoints[0],this.tweenBreakpoints[1]),this.cache.activeTweenPairUpperBound=t[1],void(this.cache.activeTweenPairLowerBound=t[0])
if((e>t[n]||0===t[n])&&e<t[n+1])return this._activeTweenPair.splice(0),this._activeTweenPair.push(this.tweenBreakpoints[n],this.tweenBreakpoints[n+1]),this.cache.activeTweenPairUpperBound=t[n+1],void(this.cache.activeTweenPairLowerBound=t[n])}}},_animateTweens:function(){if(this._getActiveTweenPair(),window.pageYOffset<=this._activeTweenPair[1].scrollPosition&&window.pageYOffset>=0){this._isTweenable=!0
var e={}
for(var t in this._activeTweenPair[1])this._activeTweenPair[1].hasOwnProperty(t)&&"scrollPosition"!==t&&"increment"!==t&&(this._tweenBoundariesSet||(console.log("Invoked for: ",this),this._setTweenBoundaries(this.tweenBreakpoints[this.tweenBreakpoints.length-1],this._finalTween),this._setTweenBoundaries(this.tweenBreakpoints[0],this._zeroTween),this._tweenBoundariesSet=!0),e[t]=this._activeTweenPair[0][t]+this._activeTweenPair[0].increment[t]*(window.pageYOffset-this._activeTweenPair[0].scrollPosition))
this._tweenBoundariesSet=!0,TweenLite.to(this.elem,.016,e)}window.pageYOffset>=this.tweenBreakpoints[this.tweenBreakpoints.length-1].scrollPosition&&this._isTweenable&&(console.log("FINAL TWEENED!"),this._isTweenable=!1,TweenLite.to(this.elem,.016,this._finalTween)),window.pageYOffset<0&&this._isTweenable&&(this._isTweenable=!1,TweenLite.to(this.elem,.016,this._zeroTween)),window.pageYOffset>=this.tweenBreakpoints[this.tweenBreakpoints.length-1].scrollPosition&&!this._persist&&this._dereferenceNullElement()},_setTweenBoundaries:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"increment"!==n&&"scrollPosition"!==n&&("object"==typeof e[n]&&this._setTweenBoundaries(e[n],t[n]),t[n]=e[n])},_tweenPositionDefined:function(e){for(var t=0;t<this.tweenBreakpoints.length;t++){var n=this.tweenBreakpoints[t]
if(void 0!==n[e])return!0}return!1},_dereferenceNullElement:function(){TweenLite.to(this.elem,.016,this.finalTween),e.splice(e.indexOf(this),1),console.log("Removed reference")},_getTweenBreakpoints:function(){return this.tweenBreakpoints}},i=function(t,i){var r=Object.create(n)
if(r.elem=document.querySelector?document.querySelector(t):!1,!r.elem)throw new Error("CSS  Selector invalid or querySelector() not supported in your browser")
return r.tweenBreakpoints=[],r.cache={},i&&(r._options=i),r._persist=!0,r._zeroTween={},r._finalTween={},r._isTweenable=!0,r.initialTweenPairSet=!1,r._tweenBoundariesSet=!1,r._activeTweenPair=[],e.push(r),r}
i._getScrollElements=function(){return e},i._getTweenableElements=function(){return t},window.addEventListener("scroll",function(){for(var t=0;t<e.length;t++)e[t]._animateTweens.apply(e[t])})
window.addEventListener("DOMContentLoaded",function(){for(var t=0;t<e.length;t++)e[t]._getActiveTweenPair.apply(e[t])
for(var t=0;t<e.length;t++)e[t]._animateTweens.apply(e[t])})
return i}()
